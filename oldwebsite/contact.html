<!DOCTYPE html>
<html>
    <head>
        <title>Kelly Zhang's Portfolio</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/bootstrap-social.css">
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <script src="js/navbar.js"></script>
        <div class="container">
            <div class="col-lg-12 text-center">
                <!--form>
                    <div id="name-group" class="form-group">
                        <label for="nameInput">Name</label>
                        <input type="text" class="form-control" id="nameInput" placeholder="Your name">
                        <div class="form-control-feedback"></div>
                    </div>
                    <div id="email-group" class="form-group">
                        <label for="emailInput">Email address</label>
                        <input type="email" class="form-control" id="emailInput" aria-describedby="emailHelp" placeholder="Enter email">
                        <div class="form-control-feedback"></div>
                        <small id="emailHelp" class="form-text text-muted"></small>
                    </div>
                    <div id="message-group" class="form-group">
                        <label for="messageText">Message</label>
                        <textarea class="form-control" id="messageText" rows="3"></textarea>
                        <div class="form-control-feedback"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Send</button>
                </form-->
                <h2>Contact me on any of the following:</h2>
                <a href="mailto:kezhang@wpi.edu" class="btn btn-social-icon btn-reddit">
                    <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
                </a>
                <a href="http://github.com/bonbombs" class="btn btn-social-icon btn-github">
                    <span class="fa fa-github"></span>
                </a>
                <a href="http://twitter.com/chiffles_" class="btn btn-social-icon btn-twitter">
                    <span class="fa fa-twitter"></span>
                </a>
                <a href="https://www.linkedin.com/in/kelly-zhang-028a1126" class="btn btn-social-icon btn-linkedin">
                    <span class="fa fa-linkedin"></span>
                </a>
            </div>
        </div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
        <script src="js/html-sanitizer.js"></script>
        <script>
            $(document).ready(function(){
                $("ul.topnav > li:nth-child(5)").addClass("active-nav");
                $("form").submit(function(e){
                    e.preventDefault();
                    validateInputFields();
                });
            });
            function validateName(name) {
                var re = /^[a-z0-9]+$/i;
                return re.test(name);
            }
            /* credit to http://stackoverflow.com/questions/46155/validate-email-address-in-javascript */
            function validateEmail(email) {
                var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(email);
            }
            function validateMessage(msg) {
                console.log(html_sanitize(msg));
                return html_sanitize(msg);
            }
            function validateInputFields(){
                var name = $("#nameInput").val();
                var email = $("#emailInput").val();
                var msg = $("#messageInput").val();
                if(!validateName(name)) {
                    $("#name-group").addClass("has-warning");
                    $("#name-group > .form-control-feedback").text("Please enter your name.");
                }
                else {
                    $("#name-group").removeClass("has-warning");
                    $("#name-group > .form-control-feedback").text("");
                }
                if(!validateEmail(email)) {
                    $("#email-group").addClass("has-warning");
                    $("#email-group > .form-control-feedback").text("Please enter an email.");
                }
                else {
                    $("#email-group").removeClass("has-warning");
                    $("#email-group > .form-control-feedback").text("");
                }
                if(validateMessage(msg).trim() === ""){
                    $("#message-group").addClass("has-warning");
                    $("#message-group > .form-control-feedback").text("No message in text field.");
                }
                else {
                    $("#message-group").removeClass("has-warning");
                    $("#message-group > .form-control-feedback").text("");
                }
                return validateEmail(email) && validateName(name) && (validateMessage(msg).trim() != "");
            }
        </script>
    </body>
</html>